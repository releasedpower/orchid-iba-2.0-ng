<div class="content-wrapper">
    <!-- Container-fluid starts -->
    <!-- Main content starts -->
    <div class="container-fluid">
       <div class="row">
          <div class="main-header">
             <h4>Tableau de bord</h4>
             <ol class="breadcrumb breadcrumb-title breadcrumb-arrow">
               <li class="breadcrumb-item">
                  <a href="index.html">
                     <i class="ti-user"></i>
                  </a>
               </li>
               <li class="breadcrumb-item"><a href="#">Mes comptes</a>
               </li>
               <li class="breadcrumb-item"><a href="#">Tableau de bord</a>
               </li>
            </ol>
          </div>
       </div>
       <!-- 4-blocks row start -->
       <div class="row dashboard-header">
         <div class="col-lg-3 col-md-6 col-sm-3" *ngIf="soldeLoadedState===false">
            <div class="card dashboard-product">
               <span>Dépot à vue</span>
               <h2 class="dashboard-total-products">Chargement...</h2>
               <small> </small> <br/>
               <span class="label label-primary">Chargement...</span>
               <div class="side-box">
                  <i class="ti-money text-success-color"></i>
               </div>
            </div>
         </div>
         <div *ngIf="soldeLoadedState===true" >
            <div class="col-lg-3 col-md-6"*ngFor="let solde of soldes">
               <div class="card dashboard-product" >
                  <span *ngIf="solde.cpt_vcodepep==='DAV01'">Dépot à vue</span>
                  <span *ngIf="solde.cpt_vcodepep==='EPR01'">Épargne</span>
                  <h2 class="dashboard-total-products">{{solde.cpt_fsolde}}<span> Ar</span></h2>
                  <small>Solde au 16/01/22</small> <br/>

                  <ng-container *ngIf="cptHidden === true">
                     <span class="label label-default" >Numéro:</span>{{'****'+solde.cpt_vcode.slice(4,11)}} 
                  </ng-container>
                  <ng-container *ngIf="cptHidden === false">
                     <span class="label label-default" >Numéro:</span>{{solde.cpt_vcode}} 
                  </ng-container>
                  <span style="float:right">
                     <a><small (click)="toggleCptHidden()" *ngIf="cptHidden===true">Afficher</small></a>
                  </span>
                  <span style="float:right">
                     <a><small (click)="toggleCptHidden()" *ngIf="cptHidden===false">Cacher</small></a>
                  </span>
                  <div class="side-box">
                     <i *ngIf="solde.cpt_vcodepep==='DAV01'" class="ti-money text-success-color"></i>
                     <i *ngIf="solde.cpt_vcodepep==='EPR01'" class="ti-stats-up text-primary-color"></i>
                  </div>
               </div>
            </div>
         </div>
          <div class="col-lg-3 col-md-6">
             <div class="card dashboard-product">
                <span>Dépenses du mois</span>
                <h2 class="dashboard-total-products">{{depensesMois | addSpaces}}<span> Ar</span></h2>
                <small> </small> <br/>
                <span class="label label-success">Sales</span>Reviews
                <div class="side-box">
                   <i class="ti-stats-down text-danger-color"></i>
                </div>
             </div>
          </div>
          <div class="col-lg-3 col-md-6">
             <div class="card dashboard-product">
                <span>Recette du mois</span>
                <h2 class="dashboard-total-products"><span>+</span>{{recettesMois | addSpaces}}<span> Ar</span></h2>
                <small> </small> <br/>
                <span class="label label-danger">Sales</span>Reviews
                <div class="side-box">
                   <i class="ti-check text-success-color"></i>
                </div>
             </div>
          </div>
       </div>

       <div class="row">
         <div class="main-header">
            <h4>Activités récentes</h4>
         </div>
          <div class="col-xl-12 col-lg-12">
             <div class="card">
                <div class="card-block">
                  <h6 style="float:left">Compte: {{'****'+selectedCompte.slice(4,11)}}</h6>
                  <select class="form-control" style="width:300px;float:right" [(ngModel)]="selectedCompte" (change)="getTransactions(selectedCompte)">
                     <option *ngFor="let solde of soldes" value="{{solde.cpt_vcode}}">{{solde.cpt_vlib}}</option>
                  </select>
                   <div class="table-responsive">
                      <table class="table m-b-0 photo-table">
                         <thead>
                            <tr class="text-uppercase">
                               <th>ID</th>
                               <th>Description</th>
                               <th>Type</th>
                               <th>Montant en MGA</th>
                               <th>Date</th>
                               <th>Solde en MGA</th>
                            </tr>
                         </thead>
                         <tbody *ngIf="transLoadedState===true">
                            <tr *ngFor="let transaction of transactions">
                               <td>{{transaction.mvt_inum}}</td>
                               <td>{{transaction.mvt_vlib.slice(0,40) +'...'}}</td>
                               <td>{{transaction.mvt_vcodetra}}</td>
                               <td >{{transaction.mvt_fmontantsigne | addSpaces}}</td>
                               <!-- <td *ngIf="transaction.mvt_fmontantsigne<=0" style="color:rgb(173, 0, 0)">{{transaction.mvt_fmontantsigne | addSpaces}}</td> -->
                               <td>{{transaction.mvt_dsys}}</td>
                               <td>{{transaction.balance | addSpaces}}</td>
                            </tr>
                         </tbody>
                         <tbody *ngIf="transLoadedState===false">
                           <tr>
                              <td>Chargement...</td>
                              <td>Chargement...</td>
                              <td>Chargement...</td>
                              <td>Chargement...</td>
                              <td>Chargement...</td>
                              <td>Chargement...</td>

                           </tr>
                        </tbody>
                      </table>
                      
                      <a target="_self">
                        <p id="transactions-details" style="text-align: right;color: #12171c; ">Plus de détails <i class="icon-arrow-down"></i></p> 
                      </a>
                   </div>
                </div>
             </div>
          </div>
       </div>
    </div>
    <!-- Main content ends -->
 </div>